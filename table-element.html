<link rel="import" href="../..//polymer/polymer.html">


<dom-module id="table-element">
<template>
<paper-card>
<div>Hello</div>
</paper-card>
<!--     <paper-datatable-api
paginate selectable filters
data='[{"id": "1","color": "yellow","fruit": "banana","weight": { "kg": "0.12gr", "gr": "120gr" },"hiddenColumn": 1 }]'
page="{{page}}"
size="{{size}}"
available-size="[2, 4]"
toggle-columns="{{toggleColumns}}"
on-sort="_handleSort"
on-filter="_handleFilter"
selected-rows={{selectedRows}}
on-selection-changed="_handleSelectionChanged"
total-elements="[[totalElements]]"
total-pages="[[totalPages]]"
selectable-data-key="fruit">
<paper-datatable-api-column
header="Fruit"
property="fruit"
filter
choices='[{"key": "banana","label": "banana"},{"key": "apple","label": "apple"},{"key": "orange","label": "orange"},{"key":"strawberry","label": "strawberry"}]'
sortable
draggable-column
hideable>
<template>
<span>[[value]]</span>
</template>
</paper-datatable-api-column>
<paper-datatable-api-column
header="Color"
property="color"
draggable-column
filter>
<template>
<span>[[value]]</span>
</template>
</paper-datatable-api-column>
<paper-datatable-api-column header="Weight" property="weight" hideable>
<template>
<span>[[value.kg]]</span>
</template>
</paper-datatable-api-column>
</paper-datatable-api>-->
</template>

<script>
Polymer({
    is: 'table-element',
    properties: {
        sortProperty: {
            type: String,
        },
        selectedRows: {
            type: Array,
            value: [],
        },
    },
    ready: function() {
        // this.$$('paper-datatable-api').changeColumnOrder(['color', 'fruit', 'weight']);
    },
    _hideColumn: function(event) {
        var property = event.currentTarget.columnProperty;
        this.$$('paper-datatable-api').toggleColumn(property);
    },
    _handleSort: function(event) {
        this.sortProperty = event.detail.sort.property + ',' + event.detail.sort.direction;
    },
    _handleFilter: function(event) {
        var divLocal = document.createElement('div');
        var filter = event.detail.filter.value;
        var column = event.detail.filter.property;
        var eventRow = document.createTextNode(filter + ' is filtered on ' + column + ' column');
        Polymer.dom(divLocal).appendChild(eventRow);
        Polymer.dom(this.$.paperCardEvent).querySelector('.card-content').appendChild(divLocal);
    },
    _handleSelectionChanged: function(event) {
        var divLocal = document.createElement('div');
        if (event.detail.selected) {
            var eventRow = document.createTextNode('Row ' + event.detail.selected + ' selected');
            Polymer.dom(divLocal).appendChild(eventRow);
            var eventData = document.createTextNode('Data : ' + JSON.stringify(event.detail.data));
            var brLocal = document.createElement('br');
            Polymer.dom(divLocal).appendChild(brLocal);
            Polymer.dom(divLocal).appendChild(eventData);
        } else {
            var eventRow = document.createTextNode('Row ' + event.detail.deselected + ' deselected');
            Polymer.dom(divLocal).appendChild(eventRow);
        }
        Polymer.dom(this.$.paperCardEvent).querySelector('.card-content').appendChild(divLocal);
    },
});
</script>
</dom-module>